{"remainingRequest":"/Users/chenlong/Desktop/td-antd/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js??ref--5-1!/Users/chenlong/Desktop/td-antd/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--5-2!/Users/chenlong/Desktop/td-antd/node_modules/_source-map-loader@0.2.4@source-map-loader/index.js!/Users/chenlong/Desktop/td-antd/src/dragModal/index.js","dependencies":[{"path":"/Users/chenlong/Desktop/td-antd/src/dragModal/index.js","mtime":1566552930000},{"path":"/Users/chenlong/Desktop/td-antd/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenlong/Desktop/td-antd/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenlong/Desktop/td-antd/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenlong/Desktop/td-antd/node_modules/_source-map-loader@0.2.4@source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvY2hlbmxvbmcvRGVza3RvcC90ZC1hbnRkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2NoZW5sb25nL0Rlc2t0b3AvdGQtYW50ZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiL1VzZXJzL2NoZW5sb25nL0Rlc2t0b3AvdGQtYW50ZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL2NoZW5sb25nL0Rlc2t0b3AvdGQtYW50ZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9jaGVubG9uZy9EZXNrdG9wL3RkLWFudGQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMvY2hlbmxvbmcvRGVza3RvcC90ZC1hbnRkL3NyYy9kcmFnTW9kYWwvaW5kZXguanMiOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCi8qCiog5Y+v5ouW5ou955qEIE1vZGFs77yM5peg6YGu572p5bGC77yM5Y+v5aSa5byA55qE5rWu5bGCCiogdGl0bGUg6YOo5YiG5Y+v6L+b6KGM5ouW5ou9CiogKi8KaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IE1vZGFsIGZyb20gJ2FudGQvZXMvbW9kYWwnOwppbXBvcnQgJ2FudGQvZXMvbW9kYWwvc3R5bGUnOwppbXBvcnQgc3R5bGVzIGZyb20gJy4vaW5kZXgubW9kdWxlLmxlc3MnOwoKdmFyIERyYWdNb2RhbCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7CiAgX2luaGVyaXRzKERyYWdNb2RhbCwgX1JlYWN0JFB1cmVDb21wb25lbnQpOwoKICBmdW5jdGlvbiBEcmFnTW9kYWwocHJvcHMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRHJhZ01vZGFsKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihEcmFnTW9kYWwpLmNhbGwodGhpcywgcHJvcHMpKTsKCiAgICBfdGhpcy5nZXREcmFnRG9tID0gZnVuY3Rpb24gKCkgewogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDojrflj5bllK/kuIDmoIfnpLrlhYPntKAKICAgICAgICB2YXIgZHJhZ0RvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImRfIi5jb25jYXQoX3RoaXMuaWQpKVswXTsKCiAgICAgICAgaWYgKGRyYWdEb20pIHsKICAgICAgICAgIGRyYWdEb20uc3R5bGUubGVmdCA9ICIiLmNvbmNhdChfdGhpcy5pbml0TGVmdCwgInB4Iik7CiAgICAgICAgICBkcmFnRG9tLnN0eWxlLnRvcCA9ICcxMDBweCc7CiAgICAgICAgICBfdGhpcy5kcmFnRG9tID0gZHJhZ0RvbTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKCiAgICBfdGhpcy5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgX3RoaXMuZHJhZ2dpbmcgPSB0cnVlOyAvLyDmv4DmtLvmi5bmi73nirbmgIEKCiAgICAgIC8qCiAgICAgICog5a6e546w54K55Ye75ZCO77yM5b2T5YmN5rWu5bGC5Zyo5pyA5LiK6Z2iCiAgICAgICogKi8KCiAgICAgIHZhciBub2RlTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoc3R5bGVzLmRyYWdfbW9kYWwpOwoKICAgICAgaWYgKG5vZGVMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICBBcnJheS5mcm9tKG5vZGVMaXN0KS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5zdHlsZS56SW5kZXggPSA5OTk5OwogICAgICAgIH0pOwogICAgICAgIF90aGlzLmRyYWdEb20uc3R5bGUuekluZGV4ID0gMTAwMDA7CiAgICAgIH0KICAgICAgLyoKICAgICAgKiBnZXRCb3VuZGluZ0NsaWVudFJlY3Q6IOi/lOWbnuS4gOS4qiBEb21SZWN0IOWvueixoQogICAgICAqICAg5YyF5ZCr6K+l5YWD57Sg55qEIHRvcOOAgXJpZ2h044CBYm90dG9t44CBbGVmdCDlgLzvvIzlr7nlupTnmoTmmK/liLDlsY/luZXkuIrmlrnlkozlt6bovrnnmoTot53nprvvvIzljZXkvY0gcHgKICAgICAgKiAqLwoKCiAgICAgIHZhciBkcmFnRG9tUmVjdCA9IF90aGlzLmRyYWdEb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIC8qCiAgICAgICogZS5jbGllbnRY44CBZS5jbGllbnRZCiAgICAgICogICDojrflj5bpvKDmoIfnmoTlnZDmoIfkvY3nva4KICAgICAgKiAqLwoKCiAgICAgIF90aGlzLnRMZWZ0ID0gZS5jbGllbnRYIC0gZHJhZ0RvbVJlY3QubGVmdDsgLy8g6byg5qCH5oyJ5LiL5pe25ZKM6YCJ5Lit5YWD57Sg55qE5Z2Q5qCH5YGP56e7OnjlnZDmoIcKCiAgICAgIF90aGlzLnRUb3AgPSBlLmNsaWVudFkgLSBkcmFnRG9tUmVjdC50b3A7IC8vIOm8oOagh+aMieS4i+aXtuWSjOmAieS4reWFg+e0oOeahOWdkOagh+WBj+enuzp55Z2Q5qCHCgogICAgICBfdGhpcy5vbk1vdXNlTW92ZShfdGhpcy5kcmFnRG9tKTsKICAgIH07CgogICAgX3RoaXMub25Nb3VzZVVwID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBfdGhpcy5kcmFnZ2luZyA9IGZhbHNlOyAvLyDlgZzmraLnp7vliqjnirbmgIEKCiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDsgLy8g5YGc5q2i6byg5qCH56e75Yqo5LqL5Lu2CiAgICB9OwoKICAgIF90aGlzLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgaWYgKF90aGlzLmRyYWdnaW5nKSB7CiAgICAgICAgICBub2RlLnN0eWxlLmxlZnQgPSAiIi5jb25jYXQoZS5jbGllbnRYIC0gX3RoaXMudExlZnQsICJweCIpOwogICAgICAgICAgbm9kZS5zdHlsZS50b3AgPSAiIi5jb25jYXQoZS5jbGllbnRZIC0gX3RoaXMudFRvcCwgInB4Iik7CiAgICAgICAgfQogICAgICB9OwogICAgfTsKCiAgICBfdGhpcy5pZCA9IE1hdGgucmFuZG9tKCk7CiAgICBfdGhpcy5pbml0TGVmdCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIChwcm9wcy53aWR0aCB8fCA1MjApKSAvIDI7IC8vIOWIneWni+WMluS9jee9ruiwg+aVtAoKICAgIF90aGlzLmRyYWdEb20gPSBudWxsOyAvLyDmi5bmi73nmoTnm67moIflhYPntKAKCiAgICBfdGhpcy5kcmFnZ2luZyA9IGZhbHNlOyAvLyDmmK/lkKbmi5bmi73nmoTlvIDlhbMKCiAgICBfdGhpcy50TGVmdCA9IDA7IC8vIC0tLXwKCiAgICBfdGhpcy50VG9wID0gMDsgLy8gIC0tLS0tLT4g5Z2Q5qCH6L20CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKERyYWdNb2RhbCwgW3sKICAgIGtleTogImNvbXBvbmVudERpZE1vdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHsKICAgICAgdGhpcy5nZXREcmFnRG9tKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50RGlkVXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7CiAgICAgIGlmICghdGhpcy5kcmFnRG9tKSB7CiAgICAgICAgdGhpcy5nZXREcmFnRG9tKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcywKICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sCiAgICAgICAgICBfdGhpcyRwcm9wcyR0aXRsZSA9IF90aGlzJHByb3BzLnRpdGxlLAogICAgICAgICAgdGl0bGUgPSBfdGhpcyRwcm9wcyR0aXRsZSA9PT0gdm9pZCAwID8gJ0RyYWctTW9kYWwnIDogX3RoaXMkcHJvcHMkdGl0bGUsCiAgICAgICAgICBfdGhpcyRwcm9wcyR3cmFwQ2xhc3MgPSBfdGhpcyRwcm9wcy53cmFwQ2xhc3NOYW1lLAogICAgICAgICAgd3JhcENsYXNzTmFtZSA9IF90aGlzJHByb3BzJHdyYXBDbGFzcyA9PT0gdm9pZCAwID8gJycgOiBfdGhpcyRwcm9wcyR3cmFwQ2xhc3M7CiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLCB7CiAgICAgICAgbWFzazogZmFsc2UsCiAgICAgICAgd3JhcENsYXNzTmFtZTogIiIuY29uY2F0KHN0eWxlcy5kcmFnX21vZGFsLCAiIGRfIikuY29uY2F0KHRoaXMuaWQsICIgIikuY29uY2F0KHdyYXBDbGFzc05hbWUpLAogICAgICAgIHRpdGxlOiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICIiLmNvbmNhdChzdHlsZXMuZHJhZ190aXRsZSksCiAgICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5vbk1vdXNlRG93biwKICAgICAgICAgIG9uTW91c2VVcDogdGhpcy5vbk1vdXNlVXAsCiAgICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgICBsaW5lTnVtYmVyOiAxMDIKICAgICAgICAgIH0sCiAgICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgICB9LCB0aXRsZSksCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiA5NwogICAgICAgIH0sCiAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgIH0pLCBjaGlsZHJlbik7CiAgICB9CiAgfSwgewogICAga2V5OiAiX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwiLAogICAgLy8gQHRzLWlnbm9yZQogICAgdmFsdWU6IGZ1bmN0aW9uIF9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsKGtleSwgY29kZSkgewogICAgICAvLyBAdHMtaWdub3JlCiAgICAgIHRoaXNba2V5XSA9IGV2YWwoY29kZSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRHJhZ01vZGFsOwp9KFJlYWN0LlB1cmVDb21wb25lbnQpOwoKdmFyIF9kZWZhdWx0ID0gRHJhZ01vZGFsOwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKCmlmICh0eXBlb2YgRHJhZ01vZGFsICE9PSAndW5kZWZpbmVkJyAmJiBEcmFnTW9kYWwgJiYgRHJhZ01vZGFsID09PSBPYmplY3QoRHJhZ01vZGFsKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKERyYWdNb2RhbCkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHJhZ01vZGFsLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiRHJhZ01vZGFsIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvZHJhZ01vZGFsL2luZGV4LmpzIgogICAgfQogIH0pOwp9Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihEcmFnTW9kYWwsICJEcmFnTW9kYWwiLCAiL1VzZXJzL2NoZW5sb25nL0Rlc2t0b3AvdGQtYW50ZC9zcmMvZHJhZ01vZGFsL2luZGV4LmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIi9Vc2Vycy9jaGVubG9uZy9EZXNrdG9wL3RkLWFudGQvc3JjL2RyYWdNb2RhbC9pbmRleC5qcyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwubGVhdmVNb2R1bGUgOiB1bmRlZmluZWQ7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["/Users/chenlong/Desktop/td-antd/src/dragModal/index.js"],"names":["React","Modal","styles","DragModal","props","getDragDom","setTimeout","dragDom","document","getElementsByClassName","id","style","left","initLeft","top","onMouseDown","e","preventDefault","dragging","nodeList","drag_modal","length","Array","from","forEach","item","zIndex","dragDomRect","getBoundingClientRect","tLeft","clientX","tTop","clientY","onMouseMove","onMouseUp","onmousemove","node","Math","random","window","innerWidth","width","children","title","wrapClassName","drag_title","PureComponent"],"mappings":"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","sourcesContent":["/*\n* 可拖拽的 Modal，无遮罩层，可多开的浮层\n* title 部分可进行拖拽\n* */\n\nimport React from 'react';\nimport Modal from 'antd/es/modal';\nimport 'antd/es/modal/style';\nimport styles from './index.module.less';\n\nclass DragModal extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.id = Math.random();\n    this.initLeft = (window.innerWidth - (props.width || 520)) / 2; // 初始化位置调整\n    this.dragDom = null; // 拖拽的目标元素\n    this.dragging = false; // 是否拖拽的开关\n    this.tLeft = 0; // ---|\n    this.tTop = 0; //  ------> 坐标轴\n  }\n\n  componentDidMount() {\n    this.getDragDom();\n  }\n\n  componentDidUpdate() {\n    if (!this.dragDom) {\n      this.getDragDom();\n    }\n  };\n\n  /*\n   * 初始渲染时，直接获取 Modal 的 dom 会获取不到。\n   * 设置 ref 使用 findDOMNode 也获取不到。\n   * 只能在定时器中使用原生方式来获取。\n   * */\n  getDragDom = () => {\n    setTimeout(() => {\n      // 获取唯一标示元素\n      const dragDom = document.getElementsByClassName(`d_${this.id}`)[0];\n      if (dragDom) {\n        dragDom.style.left = `${this.initLeft}px`;\n        dragDom.style.top = '100px';\n        this.dragDom = dragDom;\n      }\n    });\n  };\n\n  onMouseDown = (e) => {\n    e.preventDefault();\n    this.dragging = true; // 激活拖拽状态\n    /*\n    * 实现点击后，当前浮层在最上面\n    * */\n    const nodeList = document.getElementsByClassName(styles.drag_modal);\n    if (nodeList.length > 0) {\n      Array.from(nodeList).forEach(item => item.style.zIndex = 9999);\n      this.dragDom.style.zIndex = 10000;\n    }\n\n    /*\n    * getBoundingClientRect: 返回一个 DomRect 对象\n    *   包含该元素的 top、right、bottom、left 值，对应的是到屏幕上方和左边的距离，单位 px\n    * */\n    const dragDomRect = this.dragDom.getBoundingClientRect();\n    /*\n    * e.clientX、e.clientY\n    *   获取鼠标的坐标位置\n    * */\n    this.tLeft = e.clientX - dragDomRect.left; // 鼠标按下时和选中元素的坐标偏移:x坐标\n    this.tTop = e.clientY - dragDomRect.top; // 鼠标按下时和选中元素的坐标偏移:y坐标\n\n    this.onMouseMove(this.dragDom);\n  };\n\n  onMouseUp = (e) => {\n    e.preventDefault();\n    this.dragging = false; // 停止移动状态\n    document.onmousemove = null; // 停止鼠标移动事件\n  };\n\n  onMouseMove = (node) => {\n    document.onmousemove = (e) => {\n      e.preventDefault();\n      if (this.dragging) {\n        node.style.left = `${e.clientX - this.tLeft}px`;\n        node.style.top = `${e.clientY - this.tTop}px`;\n      }\n    }\n  };\n\n  render() {\n    const { children, title = 'Drag-Modal', wrapClassName = '' } = this.props;\n\n    return (\n      <Modal\n        {...this.props}\n        mask={false}\n        wrapClassName={`${styles.drag_modal} d_${this.id} ${wrapClassName}`}\n        title={\n          <div\n            className={`${styles.drag_title}`}\n            onMouseDown={this.onMouseDown}\n            onMouseUp={this.onMouseUp}\n          >\n            {title}\n          </div>\n        }\n      >\n        {children}\n      </Modal>\n    );\n  }\n}\n\nexport default DragModal;\n"]}]}